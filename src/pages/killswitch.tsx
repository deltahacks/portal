import type {
  GetServerSidePropsContext,
  GetServerSidePropsResult,
  InferGetServerSidePropsType,
  NextPage,
} from "next";
import Head from "next/head";
import { Role } from "@prisma/client";
import { Drawer } from "../components/NavBar";
import { rbac } from "../components/RBACWrapper";
import { getServerAuthSession } from "../server/common/get-server-auth-session";

const KillSwitch: NextPage = () => {
  return (
    <>
      <Head>
        <title>Welcome - DeltaHacks X</title>
      </Head>
      <Drawer>
        <div className="w-full">
          <button className="btn btn-error mx-auto max-w-4xl p-4 text-black dark:text-white md:w-1/2 md:p-0">
            {/* <h1 className="py-8 text-4xl font-bold text-black dark:text-white text-center md:text-left">
              Apply to DeltaHacks X
            </h1> */}
            <div className="h-full w-full text-[#747FFF]">
              <svg
                width="full"
                height="full"
                viewBox="0 0 100 100"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M61.9629 41.0852L60.4879 41.5931C60.2581 41.6722 60.136 41.9226 60.2151 42.1524L63.5978 51.9763C63.6769 52.2061 63.9273 52.3282 64.1571 52.2491L65.6321 51.7412C65.8618 51.6621 65.984 51.4117 65.9048 51.1819L62.5222 41.358C62.4431 41.1282 62.1927 41.0061 61.9629 41.0852Z"
                  fill="currentColor"
                />
                <path
                  d="M57.86 52.0403C57.98 52.3803 58.35 52.5603 58.69 52.4403L62.72 51.0503L62.3 49.8203L58.27 51.2103C57.93 51.3303 57.75 51.7003 57.87 52.0403H57.86Z"
                  fill="currentColor"
                />
                <path
                  d="M60.07 43.3604L56.04 44.7504C55.7 44.8704 55.52 45.2404 55.64 45.5804C55.76 45.9204 56.13 46.1004 56.47 45.9804L60.5 44.5904L60.08 43.3604H60.07Z"
                  fill="currentColor"
                />
                <path
                  d="M65.66 40.2201L63 41.1401L66.38 50.9601L69.04 50.0401C71.75 49.1101 73.19 46.1501 72.26 43.4401C71.33 40.7301 68.37 39.2901 65.66 40.2201Z"
                  fill="currentColor"
                />
                <path
                  d="M73.8263 41.4632L72.1433 42.043L73.0359 44.6335L74.7188 44.0537L73.8263 41.4632Z"
                  fill="currentColor"
                />
                <path
                  d="M41.9839 46.78L40.5089 47.2879C40.2792 47.367 40.157 47.6174 40.2361 47.8472L43.6188 57.6711C43.6979 57.9009 43.9483 58.023 44.1781 57.9439L45.6531 57.436C45.8829 57.3569 46.005 57.1065 45.9259 56.8767L42.5432 47.0528C42.4641 46.823 42.2137 46.7009 41.9839 46.78Z"
                  fill="currentColor"
                />
                <path
                  d="M37.11 48.9805C34.4 49.9105 32.96 52.8705 33.89 55.5805C34.82 58.2905 37.78 59.7305 40.49 58.8005L43.15 57.8805L39.77 48.0605L37.11 48.9805Z"
                  fill="currentColor"
                />
                <path
                  d="M33.1084 54.3809L31.4254 54.9604L32.3174 57.5512L34.0004 56.9717L33.1084 54.3809Z"
                  fill="currentColor"
                />
                <path
                  d="M37.39 42.2505L42.34 44.2205C42.34 44.2205 42.44 44.2505 42.49 44.2505C42.65 44.2505 42.8 44.1505 42.86 44.0005C42.94 43.7905 42.84 43.5605 42.64 43.4805L37.69 41.5105C37.48 41.4305 37.25 41.5305 37.17 41.7305C37.09 41.9405 37.19 42.1705 37.39 42.2505Z"
                  fill="currentColor"
                />
                <path
                  d="M46.28 40.3904C46.36 40.4904 46.47 40.5404 46.59 40.5404C46.68 40.5404 46.77 40.5104 46.84 40.4504C47.01 40.3104 47.04 40.0604 46.9 39.8904L43.26 35.3904C43.12 35.2204 42.87 35.1904 42.7 35.3304C42.53 35.4704 42.5 35.7204 42.64 35.8904L46.28 40.3904Z"
                  fill="currentColor"
                />
                <path
                  d="M51.67 32.0004C51.45 31.9904 51.26 32.1504 51.25 32.3704L50.85 38.9404C50.84 39.1604 51 39.3504 51.23 39.3604H51.25C51.46 39.3604 51.64 39.2004 51.65 38.9904L52.05 32.4204C52.06 32.2004 51.9 32.0104 51.67 32.0004Z"
                  fill="currentColor"
                />
                <path
                  d="M57.06 40.7402C57.17 40.7402 57.27 40.7002 57.35 40.6102L61.03 36.6702C61.18 36.5102 61.17 36.2602 61.01 36.1002C60.85 35.9502 60.59 35.9602 60.44 36.1202L56.76 40.0602C56.61 40.2202 56.62 40.4702 56.78 40.6302C56.86 40.7002 56.96 40.7402 57.05 40.7402H57.06Z"
                  fill="currentColor"
                />
                <path
                  d="M47.96 60.0205C47.77 59.9005 47.53 59.9605 47.41 60.1505L44.48 64.8005C44.36 64.9905 44.42 65.2305 44.61 65.3505C44.68 65.3905 44.75 65.4105 44.82 65.4105C44.95 65.4105 45.08 65.3405 45.16 65.2205L48.09 60.5705C48.21 60.3805 48.15 60.1405 47.96 60.0205Z"
                  fill="currentColor"
                />
                <path
                  d="M52.3 60.6104C52.08 60.6104 51.9 60.7903 51.9 61.0103V66.7704C51.9 66.9904 52.08 67.1704 52.3 67.1704C52.52 67.1704 52.7 66.9904 52.7 66.7704V61.0103C52.7 60.7903 52.52 60.6104 52.3 60.6104Z"
                  fill="currentColor"
                />
                <path
                  d="M57.77 59.5303C57.68 59.3303 57.45 59.2303 57.25 59.3103C57.05 59.4003 56.95 59.6303 57.03 59.8303L59.51 65.7603C59.57 65.9103 59.72 66.0103 59.88 66.0103C59.93 66.0103 59.98 66.0003 60.03 65.9803C60.23 65.9003 60.33 65.6603 60.24 65.4603L57.76 59.5303H57.77Z"
                  fill="currentColor"
                />
                <path
                  d="M66.33 58.6305L61.48 56.2105C61.28 56.1105 61.04 56.1905 60.94 56.3905C60.84 56.5905 60.92 56.8305 61.12 56.9305L65.97 59.3505C66.03 59.3805 66.09 59.3905 66.15 59.3905C66.3 59.3905 66.44 59.3105 66.51 59.1705C66.61 58.9705 66.53 58.7305 66.33 58.6305Z"
                  fill="currentColor"
                />
                <path
                  d="M31.05 55.3604L30.2 55.6504C30.2 55.6504 30.09 55.6904 29.91 55.7504L29.55 55.8704C28.54 56.2104 26.47 56.8604 24.29 57.2504C22.56 57.5604 21.11 57.6404 19.99 57.5004C18.82 57.3504 18.06 56.9704 17.73 56.3704C16.76 54.6104 17.48 52.5704 18.24 50.4104C19 48.2404 19.79 45.9904 18.92 43.8004C18.55 42.8604 17.89 41.9904 17.03 41.2704C16.15 40.5404 15.08 40.0004 13.92 39.6904C12.37 39.2804 9.45 39.0204 6 41.0604V43.8104C8.45 41.9804 11.04 41.2904 13.34 41.9004C14.97 42.3304 16.3 43.3804 16.8 44.6404C17.36 46.0404 16.74 47.7904 16.09 49.6504C15.24 52.0704 14.28 54.8104 15.73 57.4604C16.6 59.0404 18.42 59.8404 21.15 59.8404C22.2 59.8404 23.39 59.7204 24.72 59.4804C26.55 59.1504 28.26 58.6704 29.44 58.3004L29.6 58.2504C30.42 57.9904 30.95 57.7904 31 57.7704L31.79 57.4904L31.05 55.3404V55.3604Z"
                  fill="currentColor"
                />
                <path
                  d="M88.67 36.2604C84.52 38.2204 80.05 39.7604 77.23 40.6504L74.35 41.5104L74.4 41.6404C74.42 41.7104 74.45 41.7804 74.45 41.7804L75.09 43.6504L77.13 43.0004C79.72 42.2404 84.73 40.6304 89.65 38.3104C91.04 37.6504 92.52 37.2904 93.99 37.2104V34.9204C92.18 34.9904 90.37 35.4404 88.67 36.2404V36.2604Z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <h3 className="py-8 text-center text-4xl font-bold text-black dark:text-white md:text-left">
              DeltaHacks has passed away peacefully.ðŸª¦
            </h3>
          </button>
        </div>
      </Drawer>
    </>
  );
};

export async function getServerSideProps(context: GetServerSidePropsContext) {
  let output: GetServerSidePropsResult<Record<string, unknown>> = { props: {} };
  output = rbac(
    await getServerAuthSession(context),
    [Role.ADMIN],
    undefined,
    output
  );
  return output;
}

export default KillSwitch;
